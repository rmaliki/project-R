#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=1,na.rm=T)
ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..,color=pop), size = 0.01,  bins = 16, geom = "polygon") + scale_color_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=1,na.rm=T)
ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..pop.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=1,na.rm=T)
ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=1,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=0.5,na.rm=T,na.rm=T)+scale_color_gradient(low = "green",high="red")
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=1,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=0.5,na.rm=T)+scale_color_gradient(low = "green",high="red")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=1,na.rm=T)+scale_color_gradient(low = "green",high="red")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=1,size=3,na.rm=T)+scale_color_gradient(low = "green",high="red")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=20,na.rm=T)+scale_color_gradient(low = "green",high="red")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=20,na.rm=T)+scale_color_gradient(low = "green",high="red")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "orange", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=20,na.rm=T)+scale_color_gradient(low = "green",high="red")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "#FFA500", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=20,na.rm=T)+scale_color_gradient(low = "green",high="red")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "#ffa500", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=20,na.rm=T)+scale_color_gradient(low = "green",high="red")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "beige", high = "blue") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=20,na.rm=T)+scale_color_gradient(low = "beige",high="blue")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "beige", high = "blue") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=20,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "beige", high = "blue") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#merging data
df1<-merge(users,characteristics)
df1<-df1[,c("grav","lat","long")]
#Remove datas which has no long an lat parameters
df2<-dplyr::filter(df1,df1[,"lat"]!=0 & df1[,"long"]!=0)
#Switching levels to 2 instead of 4 to define graveness
df1$grav=factor(df1$grav)
levels(df1$grav)=c("Pas grave","Grave","Grave","Pas grave")
#Normalize longitude and latitude parameters
df1$lat<-df1$lat/100000
df1$long<-df1$long/100000
#loading Paris map
map2<-get_map(location = 'paris',zoom=10,maptype = "roadmap",source = 'google',color = 'color')
ggmap(map2)+geom_point(aes(x=long,y=lat,colour=grav),df1,alpha=1,na.rm=T)
#merging data
df1<-merge(users,characteristics)
df1<-df1[,c("grav","lat","long")]
#Remove datas which has no long an lat parameters
df2<-dplyr::filter(df1,df1[,"lat"]!=0 & df1[,"long"]!=0)
#Switching levels to 2 instead of 4 to define graveness
df2$grav=factor(df2$grav)
levels(df2$grav)=c("Pas grave","Grave","Grave","Pas grave")
#Normalize longitude and latitude parameters
df2$lat<-df2$lat/100000
df2$long<-df2$long/100000
#loading Paris map
map2<-get_map(location = 'paris',zoom=10,maptype = "roadmap",source = 'google',color = 'color')
ggmap(map2)+geom_point(aes(x=long,y=lat,colour=grav),df2,alpha=1,na.rm=T)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
map2<-ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=20,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")
ggmap(map2)+geom_point(aes(x=long,y=lat),df1,alpha=1,na.rm=T)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=20,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=1,na.rm=T)
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "beige", high = "blue") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=1,na.rm=T)
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "beige", high = "blue") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
map2<-ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")
map2+geom_point(aes(x=long,y=lat),df1,alpha=1,na.rm=T)
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "beige", high = "blue") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
map2<-ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")
map2+geom_point(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
#ggmap(map2,extent = "device")+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = ..level.., alpha = ..level..), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "green", high = "red") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
#+geom_density2d(data = ddf, aes(x = lng, y = lat,size=pop), size = 0.1)
#+ stat_density2d(data = ddf, aes(x = lng, y = lat, fill = pop, alpha = pop), size = 0.01,  bins = 16, geom = "polygon") + scale_fill_gradient(low = "beige", high = "blue") +  scale_alpha(range = c(0, 0.3), guide = FALSE)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
map2<-ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")
map2+geom_step(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_step(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_step(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
head(df1)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
#Normalize longitude and latitude parameters
df1$lat<-df1$lat/100000
df1$long<-df1$long/100000
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
head(df1)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
#Normalize longitude and latitude parameters
df1$lat<-df1$lat/100000
df1$long<-df1$long/100000
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.01,na.rm=T)
head(df1)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
#Normalize longitude and latitude parameters
df1$lat<-df1$lat/100000
df1$long<-df1$long/100000
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.05,na.rm=T)
head(df1)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
#Normalize longitude and latitude parameters
df1$lat<-df1$lat/100000
df1$long<-df1$long/100000
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.1,na.rm=T)
head(df1)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
#Normalize longitude and latitude parameters
df1$lat<-df1$lat/100000
df1$long<-df1$long/100000
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
head(df1)
#merging data
df1<-merge(users,characteristics)
df1<-df1[,c("grav","lat","long")]
#Normalize longitude and latitude parameters
df1$lat<-df1$lat/100000
df1$long<-df1$long/100000
#Remove datas which has no long an lat parameters
df2<-dplyr::filter(df1,df1[,"lat"]!=0 & df1[,"long"]!=0)
#Switching levels to 2 instead of 4 to define graveness
df2$grav=factor(df2$grav)
levels(df2$grav)=c("Pas grave","Grave","Grave","Pas grave")
#loading Paris map
map2<-get_map(location = 'paris',zoom=10,maptype = "roadmap",source = 'google',color = 'color')
ggmap(map2)+geom_point(aes(x=long,y=lat,colour=grav),df2,alpha=1,na.rm=T)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
head(df1)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.01,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.5,na.rm=T)
head(df1)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.1,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.05,na.rm=T)
head(df1)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_line(aes(x=lng,y=lat,colour=pop),ddf,alpha=.5,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.05,na.rm=T)
head(df1)
ddf<-read.csv("Données/francePop.csv")
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
head(ddf)
#loading France map
str(ddf)
#map3<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
vec<-as.numeric(ddf$pop)
#loading Paris map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
#ggmap(map2)+geom_point(aes(x=lng,y=lat,size=pop),ddf,alpha=.5,na.rm=T)
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.5,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.05,na.rm=T)
head(df1)
#Loading data
ddf<-read.csv("Données/francePop.csv")
#Filter to get french cities population
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
#loading France map
map2<-get_map(location = 'france',zoom=6,maptype = "toner",source = 'google',color = 'color')
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.5,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.05,na.rm=T)
#Loading data
ddf<-read.csv("Données/francePop.csv")
#Filter to get french cities population
ddf<-dplyr::filter(ddf,ddf[,"country"]=="France")
#loading France map
map2<-get_map(location = 'france',zoom=6,maptype = "terrain",source = 'google',color = 'color')
ggmap(map2)+geom_point(aes(x=lng,y=lat,colour=pop),ddf,alpha=.5,size=15,na.rm=T)+scale_color_gradient(low = "#FFA500",high="red")+geom_point(aes(x=long,y=lat),df1,alpha=.05,na.rm=T)
